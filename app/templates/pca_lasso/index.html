{% extends "base.html" %}

{% block title %}PCA & Lasso Explainer - {{ site.name }}{% endblock %}

{% block head %}
{{ super() }}
<style>
/* Cyberpunk theme for explainer */
@import url('https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&display=swap');

:root {
    --cyber-bg: #0a0a0f;
    --cyber-bg-card: rgba(18, 18, 26, 0.9);
    --cyber-cyan: #00ffff;
    --cyber-magenta: #ff00ff;
    --cyber-yellow: #ffff00;
    --cyber-green: #00ff88;
    --cyber-text: #e0e0e0;
    --cyber-text-dim: #888899;
    --cyber-border: #2a2a3a;
    --font-terminal: 'VT323', 'Share Tech Mono', monospace;
}

.explainer-page {
    background: var(--cyber-bg);
    color: var(--cyber-text);
    min-height: 100vh;
    padding: 2rem 0;
}

.explainer-page .container {
    max-width: 1000px;
}

.explainer-header {
    text-align: center;
    margin-bottom: 3rem;
}

.explainer-header h1 {
    font-family: var(--font-terminal);
    font-size: 2.5rem;
    color: var(--cyber-cyan);
    text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
    margin-bottom: 0.5rem;
}

.explainer-header .subtitle {
    font-family: var(--font-terminal);
    color: var(--cyber-text-dim);
    font-size: 1.1rem;
}

.back-link {
    font-family: var(--font-terminal);
    color: var(--cyber-magenta);
    text-decoration: none;
}

.back-link:hover {
    text-shadow: 0 0 10px var(--cyber-magenta);
}

/* Section styling */
.explainer-section {
    background: var(--cyber-bg-card);
    border: 1px solid var(--cyber-border);
    padding: 2rem;
    margin-bottom: 2rem;
    position: relative;
}

.explainer-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--cyber-cyan), transparent);
}

.section-number {
    font-family: var(--font-terminal);
    font-size: 0.8rem;
    color: var(--cyber-magenta);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    margin-bottom: 0.5rem;
}

.explainer-section h2 {
    font-family: var(--font-terminal);
    font-size: 1.5rem;
    color: var(--cyber-cyan);
    margin-bottom: 1rem;
}

.explainer-section p {
    font-family: var(--font-terminal);
    line-height: 1.8;
    margin-bottom: 1rem;
    color: var(--cyber-text);
}

.highlight {
    color: var(--cyber-yellow);
}

.highlight-cyan {
    color: var(--cyber-cyan);
}

.highlight-magenta {
    color: var(--cyber-magenta);
}

/* Visual containers */
.visual-container {
    background: var(--cyber-bg);
    border: 1px solid var(--cyber-border);
    padding: 1.5rem;
    margin: 1.5rem 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 300px;
}

.visual-container svg {
    max-width: 100%;
    overflow: visible;
}

/* Comparison grid */
.comparison-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.comparison-card {
    background: var(--cyber-bg);
    border: 1px solid var(--cyber-border);
    padding: 1.5rem;
}

.comparison-card h3 {
    font-family: var(--font-terminal);
    font-size: 1.1rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--cyber-border);
}

.comparison-card.pca h3 {
    color: var(--cyber-cyan);
}

.comparison-card.lasso h3 {
    color: var(--cyber-magenta);
}

.comparison-card ul {
    list-style: none;
    padding: 0;
}

.comparison-card li {
    font-family: var(--font-terminal);
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
    color: var(--cyber-text-dim);
}

.comparison-card li::before {
    content: '>';
    position: absolute;
    left: 0;
    color: var(--cyber-cyan);
}

.comparison-card.lasso li::before {
    color: var(--cyber-magenta);
}

/* Key insight boxes */
.insight-box {
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
    border: 1px solid var(--cyber-cyan);
    padding: 1.5rem;
    margin: 1.5rem 0;
    position: relative;
}

.insight-box::before {
    content: 'KEY INSIGHT';
    position: absolute;
    top: -10px;
    left: 1rem;
    background: var(--cyber-bg-card);
    padding: 0 0.5rem;
    font-family: var(--font-terminal);
    font-size: 0.75rem;
    color: var(--cyber-yellow);
    letter-spacing: 0.1em;
}

.insight-box p {
    margin: 0;
}

/* Math formulas */
.formula {
    font-family: var(--font-terminal);
    background: var(--cyber-bg);
    padding: 1rem 1.5rem;
    margin: 1rem 0;
    border-left: 3px solid var(--cyber-cyan);
    overflow-x: auto;
}

.formula.lasso {
    border-left-color: var(--cyber-magenta);
}

/* Animation keyframes */
@keyframes pulse-cyan {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

@keyframes pulse-magenta {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

@keyframes draw-line {
    from { stroke-dashoffset: 1000; }
    to { stroke-dashoffset: 0; }
}

@keyframes shrink-bar {
    0% { transform: scaleX(1); }
    50% { transform: scaleX(0.3); }
    100% { transform: scaleX(1); }
}

@keyframes rotate-axis {
    from { transform: rotate(0deg); }
    to { transform: rotate(45deg); }
}

.animate-pulse-cyan {
    animation: pulse-cyan 2s ease-in-out infinite;
}

.animate-pulse-magenta {
    animation: pulse-magenta 2s ease-in-out infinite;
}

/* Interactive elements */
.step-indicator {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.step-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--cyber-border);
    cursor: pointer;
    transition: all 0.3s;
}

.step-dot.active {
    background: var(--cyber-cyan);
    box-shadow: 0 0 10px var(--cyber-cyan);
}

.step-dot:hover {
    background: var(--cyber-cyan);
}

/* Responsive */
@media (max-width: 768px) {
    .comparison-grid {
        grid-template-columns: 1fr;
    }

    .explainer-header h1 {
        font-size: 1.8rem;
    }

    .visual-container {
        min-height: 200px;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="explainer-page">
<div class="container">
    <a href="{{ url_for('main.projects') }}" class="back-link">&larr; Projects</a>

    <header class="explainer-header">
        <h1>PCA & Lasso Regression</h1>
        <p class="subtitle">A visual journey through dimensionality reduction and feature selection</p>
    </header>

    <!-- Section 1: The Problem -->
    <section class="explainer-section">
        <div class="section-number">// Section 01</div>
        <h2>The Curse of Dimensionality</h2>
        <p>
            When you have <span class="highlight">too many features</span> in your data, bad things happen:
            models overfit, training slows down, and patterns become harder to find.
        </p>
        <p>
            Both <span class="highlight-cyan">PCA</span> and <span class="highlight-magenta">Lasso</span>
            help solve this problem, but in fundamentally different ways.
        </p>

        <div class="visual-container">
            <svg width="500" height="200" viewBox="0 0 500 200">
                <!-- High dimensional representation -->
                <g id="high-dim">
                    <!-- Multiple feature arrows -->
                    <line x1="50" y1="100" x2="100" y2="60" stroke="#00ffff" stroke-width="2" opacity="0.7"/>
                    <line x1="50" y1="100" x2="110" y2="80" stroke="#00ffff" stroke-width="2" opacity="0.7"/>
                    <line x1="50" y1="100" x2="105" y2="100" stroke="#00ffff" stroke-width="2" opacity="0.7"/>
                    <line x1="50" y1="100" x2="100" y2="120" stroke="#00ffff" stroke-width="2" opacity="0.7"/>
                    <line x1="50" y1="100" x2="90" y2="140" stroke="#00ffff" stroke-width="2" opacity="0.7"/>
                    <line x1="50" y1="100" x2="95" y2="50" stroke="#00ffff" stroke-width="2" opacity="0.7"/>
                    <text x="50" y="170" fill="#888899" font-family="VT323" font-size="14">High-D Space</text>
                    <text x="50" y="185" fill="#888899" font-family="VT323" font-size="12">(6 features)</text>
                </g>

                <!-- Arrow -->
                <g>
                    <line x1="150" y1="100" x2="200" y2="100" stroke="#ffff00" stroke-width="2" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" from="10" to="0" dur="1s" repeatCount="indefinite"/>
                    </line>
                    <polygon points="200,95 210,100 200,105" fill="#ffff00"/>
                    <text x="160" y="85" fill="#ffff00" font-family="VT323" font-size="12">REDUCE</text>
                </g>

                <!-- PCA result -->
                <g id="pca-result">
                    <line x1="250" y1="100" x2="320" y2="70" stroke="#00ffff" stroke-width="3">
                        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                    </line>
                    <line x1="250" y1="100" x2="310" y2="120" stroke="#00ffff" stroke-width="2" opacity="0.6"/>
                    <text x="250" y="150" fill="#00ffff" font-family="VT323" font-size="14">PCA</text>
                    <text x="250" y="165" fill="#888899" font-family="VT323" font-size="12">2 components</text>
                </g>

                <!-- Lasso result -->
                <g id="lasso-result">
                    <line x1="380" y1="100" x2="430" y2="75" stroke="#ff00ff" stroke-width="3">
                        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                    </line>
                    <line x1="380" y1="100" x2="440" y2="110" stroke="#ff00ff" stroke-width="3">
                        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite" begin="0.5s"/>
                    </line>
                    <text x="380" y="150" fill="#ff00ff" font-family="VT323" font-size="14">LASSO</text>
                    <text x="380" y="165" fill="#888899" font-family="VT323" font-size="12">2 features kept</text>
                </g>
            </svg>
        </div>
    </section>

    <!-- Section 2: PCA Explained -->
    <section class="explainer-section">
        <div class="section-number">// Section 02</div>
        <h2>Principal Component Analysis (PCA)</h2>
        <p>
            PCA finds <span class="highlight-cyan">new axes</span> that capture the most variance in your data.
            It <span class="highlight">transforms</span> your original features into a new coordinate system.
        </p>

        <div class="formula">
            maximize Var(Xw) subject to ||w|| = 1
        </div>

        <div class="visual-container">
            <svg width="400" height="300" viewBox="0 0 400 300">
                <!-- Data points -->
                <g id="data-cloud">
                    <circle cx="180" cy="160" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="200" cy="140" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="220" cy="150" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="190" cy="170" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="210" cy="155" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="230" cy="135" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="240" cy="120" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="250" cy="110" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="170" cy="175" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="160" cy="185" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="260" cy="100" r="4" fill="#00ffff" opacity="0.6"/>
                    <circle cx="150" cy="190" r="4" fill="#00ffff" opacity="0.6"/>
                </g>

                <!-- Original axes (faded) -->
                <line x1="100" y1="250" x2="100" y2="50" stroke="#2a2a3a" stroke-width="1"/>
                <line x1="50" y1="200" x2="350" y2="200" stroke="#2a2a3a" stroke-width="1"/>
                <text x="355" y="205" fill="#888899" font-family="VT323" font-size="12">x₁</text>
                <text x="95" y="45" fill="#888899" font-family="VT323" font-size="12">x₂</text>

                <!-- PC1 (main variance direction) -->
                <g id="pc1">
                    <line x1="120" y1="210" x2="300" y2="80" stroke="#00ffff" stroke-width="3">
                        <animate attributeName="stroke-opacity" values="0.3;1;0.3" dur="3s" repeatCount="indefinite"/>
                    </line>
                    <polygon points="300,80 290,90 295,78" fill="#00ffff">
                        <animate attributeName="fill-opacity" values="0.3;1;0.3" dur="3s" repeatCount="indefinite"/>
                    </polygon>
                    <text x="305" y="75" fill="#00ffff" font-family="VT323" font-size="14">PC1</text>
                    <text x="305" y="90" fill="#888899" font-family="VT323" font-size="11">(max variance)</text>
                </g>

                <!-- PC2 (perpendicular) -->
                <g id="pc2">
                    <line x1="150" y1="100" x2="260" y2="200" stroke="#00ff88" stroke-width="2" opacity="0.6"/>
                    <polygon points="260,200 250,195 255,205" fill="#00ff88" opacity="0.6"/>
                    <text x="265" y="205" fill="#00ff88" font-family="VT323" font-size="14">PC2</text>
                </g>

                <!-- Projection lines -->
                <g id="projections" opacity="0.3">
                    <line x1="200" y1="140" x2="225" y2="120" stroke="#ffff00" stroke-width="1" stroke-dasharray="3,3"/>
                    <line x1="240" y1="120" x2="255" y2="105" stroke="#ffff00" stroke-width="1" stroke-dasharray="3,3"/>
                </g>

                <text x="50" y="280" fill="#888899" font-family="VT323" font-size="12">PCA rotates to align with maximum variance</text>
            </svg>
        </div>

        <div class="insight-box">
            <p>
                PCA creates <span class="highlight-cyan">combinations</span> of original features.
                PC1 might be "0.7×height + 0.3×weight" - a <span class="highlight">mix</span>, not a selection.
            </p>
        </div>
    </section>

    <!-- Section 3: Lasso Explained -->
    <section class="explainer-section">
        <div class="section-number">// Section 03</div>
        <h2>Lasso Regression</h2>
        <p>
            Lasso adds an <span class="highlight-magenta">L1 penalty</span> to regression that shrinks coefficients.
            Some coefficients shrink all the way to <span class="highlight">exactly zero</span>, effectively removing features.
        </p>

        <div class="formula lasso">
            minimize ||y - Xβ||² + λ||β||₁
        </div>

        <div class="visual-container">
            <svg width="450" height="280" viewBox="0 0 450 280">
                <!-- Coefficient bars before Lasso -->
                <g id="before-lasso">
                    <text x="30" y="30" fill="#888899" font-family="VT323" font-size="14">Before (OLS)</text>

                    <rect x="30" y="50" width="80" height="20" fill="#ff00ff" opacity="0.7"/>
                    <text x="120" y="65" fill="#888899" font-family="VT323" font-size="12">β₁ = 0.8</text>

                    <rect x="30" y="80" width="30" height="20" fill="#ff00ff" opacity="0.7"/>
                    <text x="120" y="95" fill="#888899" font-family="VT323" font-size="12">β₂ = 0.3</text>

                    <rect x="30" y="110" width="60" height="20" fill="#ff00ff" opacity="0.7"/>
                    <text x="120" y="125" fill="#888899" font-family="VT323" font-size="12">β₃ = 0.6</text>

                    <rect x="30" y="140" width="15" height="20" fill="#ff00ff" opacity="0.7"/>
                    <text x="120" y="155" fill="#888899" font-family="VT323" font-size="12">β₄ = 0.15</text>

                    <rect x="30" y="170" width="10" height="20" fill="#ff00ff" opacity="0.7"/>
                    <text x="120" y="185" fill="#888899" font-family="VT323" font-size="12">β₅ = 0.1</text>
                </g>

                <!-- Arrow -->
                <g>
                    <line x1="180" y1="120" x2="230" y2="120" stroke="#ffff00" stroke-width="2">
                        <animate attributeName="stroke-dashoffset" from="10" to="0" dur="1s" repeatCount="indefinite"/>
                    </line>
                    <polygon points="230,115 240,120 230,125" fill="#ffff00"/>
                    <text x="185" y="105" fill="#ffff00" font-family="VT323" font-size="11">λ penalty</text>
                </g>

                <!-- Coefficient bars after Lasso -->
                <g id="after-lasso">
                    <text x="270" y="30" fill="#ff00ff" font-family="VT323" font-size="14">After (Lasso)</text>

                    <rect x="270" y="50" width="70" height="20" fill="#ff00ff">
                        <animate attributeName="width" values="80;70;70" dur="2s" fill="freeze"/>
                    </rect>
                    <text x="360" y="65" fill="#ff00ff" font-family="VT323" font-size="12">β₁ = 0.7</text>

                    <rect x="270" y="80" width="0" height="20" fill="#ff00ff" opacity="0.3">
                        <animate attributeName="width" values="30;0;0" dur="2s" fill="freeze"/>
                    </rect>
                    <text x="360" y="95" fill="#888899" font-family="VT323" font-size="12">β₂ = 0 ✗</text>

                    <rect x="270" y="110" width="50" height="20" fill="#ff00ff">
                        <animate attributeName="width" values="60;50;50" dur="2s" fill="freeze"/>
                    </rect>
                    <text x="360" y="125" fill="#ff00ff" font-family="VT323" font-size="12">β₃ = 0.5</text>

                    <rect x="270" y="140" width="0" height="20" fill="#ff00ff" opacity="0.3">
                        <animate attributeName="width" values="15;0;0" dur="2s" fill="freeze"/>
                    </rect>
                    <text x="360" y="155" fill="#888899" font-family="VT323" font-size="12">β₄ = 0 ✗</text>

                    <rect x="270" y="170" width="0" height="20" fill="#ff00ff" opacity="0.3">
                        <animate attributeName="width" values="10;0;0" dur="2s" fill="freeze"/>
                    </rect>
                    <text x="360" y="185" fill="#888899" font-family="VT323" font-size="12">β₅ = 0 ✗</text>
                </g>

                <text x="30" y="230" fill="#888899" font-family="VT323" font-size="12">
                    Lasso drives weak coefficients to exactly zero
                </text>
                <text x="30" y="250" fill="#00ff88" font-family="VT323" font-size="12">
                    Result: Only 2 features remain (automatic feature selection)
                </text>
            </svg>
        </div>

        <div class="insight-box">
            <p>
                Lasso performs <span class="highlight-magenta">actual feature selection</span>.
                You keep the <span class="highlight">original features</span>, just fewer of them.
            </p>
        </div>
    </section>

    <!-- Section 4: The Key Difference -->
    <section class="explainer-section">
        <div class="section-number">// Section 04</div>
        <h2>The Fundamental Difference</h2>

        <div class="comparison-grid">
            <div class="comparison-card pca">
                <h3>PCA: Transformation</h3>
                <ul>
                    <li>Creates NEW features (principal components)</li>
                    <li>Components are linear combinations of originals</li>
                    <li>Unsupervised (ignores target variable)</li>
                    <li>Maximizes explained variance</li>
                    <li>All original features contribute to each PC</li>
                    <li>Results are harder to interpret</li>
                </ul>
            </div>
            <div class="comparison-card lasso">
                <h3>Lasso: Selection</h3>
                <ul>
                    <li>Keeps ORIGINAL features (subset)</li>
                    <li>Features remain unchanged</li>
                    <li>Supervised (uses target variable)</li>
                    <li>Minimizes prediction error + sparsity</li>
                    <li>Many features get coefficient = 0</li>
                    <li>Results are directly interpretable</li>
                </ul>
            </div>
        </div>

        <div class="visual-container">
            <svg width="500" height="200" viewBox="0 0 500 200">
                <!-- Original features -->
                <g>
                    <text x="20" y="30" fill="#888899" font-family="VT323" font-size="14">Original: [x₁, x₂, x₃, x₄]</text>
                </g>

                <!-- PCA output -->
                <g>
                    <line x1="150" y1="50" x2="150" y2="90" stroke="#00ffff" stroke-width="2"/>
                    <polygon points="145,90 150,100 155,90" fill="#00ffff"/>
                    <rect x="80" y="110" width="140" height="40" fill="none" stroke="#00ffff" stroke-width="2"/>
                    <text x="95" y="135" fill="#00ffff" font-family="VT323" font-size="13">[PC₁, PC₂]</text>
                    <text x="80" y="170" fill="#888899" font-family="VT323" font-size="11">PC₁ = 0.5x₁ + 0.3x₂ + 0.4x₃ + 0.7x₄</text>
                    <text x="80" y="185" fill="#888899" font-family="VT323" font-size="11">PC₂ = 0.2x₁ - 0.6x₂ + 0.1x₃ - 0.2x₄</text>
                </g>

                <!-- Lasso output -->
                <g>
                    <line x1="380" y1="50" x2="380" y2="90" stroke="#ff00ff" stroke-width="2"/>
                    <polygon points="375,90 380,100 385,90" fill="#ff00ff"/>
                    <rect x="310" y="110" width="140" height="40" fill="none" stroke="#ff00ff" stroke-width="2"/>
                    <text x="345" y="135" fill="#ff00ff" font-family="VT323" font-size="13">[x₁, x₃]</text>
                    <text x="310" y="170" fill="#888899" font-family="VT323" font-size="11">Same original features!</text>
                    <text x="310" y="185" fill="#888899" font-family="VT323" font-size="11">β₂ = 0, β₄ = 0 (removed)</text>
                </g>

                <!-- Labels -->
                <text x="120" y="95" fill="#00ffff" font-family="VT323" font-size="12">PCA</text>
                <text x="350" y="95" fill="#ff00ff" font-family="VT323" font-size="12">LASSO</text>
            </svg>
        </div>
    </section>

    <!-- Section 5: When to Use Which -->
    <section class="explainer-section">
        <div class="section-number">// Section 05</div>
        <h2>When to Use Which?</h2>

        <div class="comparison-grid">
            <div class="comparison-card pca">
                <h3>Use PCA When:</h3>
                <ul>
                    <li>You need visualization (reduce to 2-3D)</li>
                    <li>Features are highly correlated</li>
                    <li>Interpretability is not critical</li>
                    <li>You want to remove noise</li>
                    <li>Doing unsupervised learning</li>
                </ul>
            </div>
            <div class="comparison-card lasso">
                <h3>Use Lasso When:</h3>
                <ul>
                    <li>You need interpretable models</li>
                    <li>You suspect many features are irrelevant</li>
                    <li>Feature names matter (medical, financial)</li>
                    <li>Building a prediction model</li>
                    <li>You want automatic feature selection</li>
                </ul>
            </div>
        </div>

        <div class="insight-box">
            <p>
                <span class="highlight">Pro tip:</span> You can use both! Apply PCA first to remove multicollinearity,
                then Lasso on the components. Or use Lasso to select features, then PCA for visualization.
            </p>
        </div>
    </section>

    <!-- Section 6: The Connection -->
    <section class="explainer-section">
        <div class="section-number">// Section 06</div>
        <h2>The Hidden Connection</h2>
        <p>
            While they seem different, PCA and Lasso share a deep connection through
            <span class="highlight">regularization</span> and the <span class="highlight">bias-variance tradeoff</span>.
        </p>

        <div class="visual-container">
            <svg width="450" height="200" viewBox="0 0 450 200">
                <!-- Spectrum line -->
                <line x1="50" y1="100" x2="400" y2="100" stroke="#2a2a3a" stroke-width="3"/>

                <!-- Left: High variance -->
                <g>
                    <circle cx="50" cy="100" r="8" fill="#ff3366"/>
                    <text x="20" y="70" fill="#ff3366" font-family="VT323" font-size="12">HIGH VARIANCE</text>
                    <text x="20" y="140" fill="#888899" font-family="VT323" font-size="11">Overfitting</text>
                    <text x="20" y="155" fill="#888899" font-family="VT323" font-size="11">All features</text>
                </g>

                <!-- Middle: PCA region -->
                <g>
                    <circle cx="175" cy="100" r="8" fill="#00ffff"/>
                    <text x="155" y="70" fill="#00ffff" font-family="VT323" font-size="12">PCA</text>
                    <text x="130" y="140" fill="#888899" font-family="VT323" font-size="11">Reduced dimensions</text>
                    <text x="130" y="155" fill="#888899" font-family="VT323" font-size="11">Soft regularization</text>
                </g>

                <!-- Middle-right: Lasso region -->
                <g>
                    <circle cx="300" cy="100" r="8" fill="#ff00ff"/>
                    <text x="280" y="70" fill="#ff00ff" font-family="VT323" font-size="12">LASSO</text>
                    <text x="255" y="140" fill="#888899" font-family="VT323" font-size="11">Sparse features</text>
                    <text x="255" y="155" fill="#888899" font-family="VT323" font-size="11">Hard regularization</text>
                </g>

                <!-- Right: High bias -->
                <g>
                    <circle cx="400" cy="100" r="8" fill="#00ff88"/>
                    <text x="370" y="70" fill="#00ff88" font-family="VT323" font-size="12">HIGH BIAS</text>
                    <text x="360" y="140" fill="#888899" font-family="VT323" font-size="11">Underfitting</text>
                    <text x="360" y="155" fill="#888899" font-family="VT323" font-size="11">Too simple</text>
                </g>

                <!-- Arrow underneath -->
                <line x1="50" y1="180" x2="400" y2="180" stroke="#ffff00" stroke-width="1"/>
                <polygon points="400,175 410,180 400,185" fill="#ffff00"/>
                <text x="180" y="195" fill="#ffff00" font-family="VT323" font-size="11">Increasing regularization →</text>
            </svg>
        </div>

        <p>
            Both methods help prevent overfitting by reducing model complexity.
            <span class="highlight-cyan">PCA</span> does it by compressing information into fewer dimensions.
            <span class="highlight-magenta">Lasso</span> does it by eliminating features entirely.
        </p>
    </section>

    <p style="text-align: center; margin-top: 2rem;">
        <a href="{{ url_for('main.projects') }}" class="back-link">&gt; BACK_TO_PROJECTS</a>
    </p>
</div>
</div>
{% endblock %}
